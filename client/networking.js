var exampleUser1 =
    {
        "public": `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkmCOvtp9EQBSRDgZE9JQ
CMF5Sa+b4GvhpksqHEWMqL5ajOvVw6IcNIVLph1u+pZZ5zXjyKIiM/d8XurpcWoC
xoFLH1JKEYDRU/mq1GDZGXQe1Dch25SKWWGeSkgXJySxUPxUM0Rk+QgHTLdfJW0L
BsfAjmKmB4H8LAhVClueLEJ/znPYR3uLyrYgNWpK5msyqy9mx1bF5u7SmQFB6t7k
CvBWVRpbHyAFvF1AbMIx0zefE/acMnEESMpEaORrbYpy1ApmxuQ4kufuMdlynm5u
7rD7GfyTrGlcD3xIrRfCdZ5/ZNCHu7Fcc7DFm3tG4wft9WJ1zQkR4BeY5xI0q+2z
bwIDAQAB
-----END PUBLIC KEY-----`,
        "private": `-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCSYI6+2n0RAFJE
OBkT0lAIwXlJr5vga+GmSyocRYyovlqM69XDohw0hUumHW76llnnNePIoiIz93xe
6ulxagLGgUsfUkoRgNFT+arUYNkZdB7UNyHblIpZYZ5KSBcnJLFQ/FQzRGT5CAdM
t18lbQsGx8COYqYHgfwsCFUKW54sQn/Oc9hHe4vKtiA1akrmazKrL2bHVsXm7tKZ
AUHq3uQK8FZVGlsfIAW8XUBswjHTN58T9pwycQRIykRo5GttinLUCmbG5DiS5+4x
2XKebm7usPsZ/JOsaVwPfEitF8J1nn9k0Ie7sVxzsMWbe0bjB+31YnXNCRHgF5jn
EjSr7bNvAgMBAAECggEAIMNmEAf9iGmnAEgCLPKdIWiUyk55OGFNT5hxY4SZuEdr
IzHCVhiZ8ZOIXDUoWwR+OQdR5d2MhE830lMIT29oEaBs/STBGWvY7s/qUcEfttfL
8rooZOq5kMoN0RiTvhozaiogep0rcKZAZAaDUHA40JqzWetwuCt7EywGRNw+6i7d
nfL1OeGurUXKwqA2spEKDiEuMveX/MSmEL8WG1TuFKNT8nsJ1W1MO5afbtLcMEQG
BSnRk1uQtjU3M3hXPw0j8UfafmrTkNrZ158fx9Nf721hMLn9e0Jf1lJO8j4Z9+Ta
MN39sMQLOS2Fjl8sNxEfuUpmtiMCbAn+aBm1tu/rIQKBgQDCcP6z1dNWq+Y5gIUx
oieY0/2GgnuT9rEoU3KeQV9DJvx80CDkhdTgBPOdL5HJEjGwmfDi7zsOg3maNGhY
Wsho5/pBOa1lXASOpafCEup2lPnQhvu3H4GcqeQD8Zqp7k2Y3CsHHU11Bd9kXAMV
w2xBl/5WQ0OFKFVzX7gmdmCwnwKBgQDAuBMYYzneH8OG/mtv0FYopT5mk0DRSMM5
9nIXPOVCqI6aDPnySfAkbVCg/1W9AkoBg2WSxz+Xmt+oU2Hd7QDHKWjbo36WR0Sj
IU13QG9u/bRLHrOdyhxzRw05vt+bfJqQHhUzksoaDX0TNJoONztcUuIJpO523gpR
v/aZ4cD7MQKBgEdjsUBZ25RQ3OBz3XNRs/QasVS3h6PVyUmjCcws+Erxf3Zb/Ber
Q3NUnhUyJ/aJJZFPk+/eIfK8NuN1JnJ6MmbB9VIJWS6D0HCHRcatp0QOgoIbbUPY
33+jqMIB7OVDR14+R9X+3jd/BnwUhFVzQMX8hjcpzxqOqoEHvdbxU6LFAoGBALUM
OOQwU6zZKlcnrMbechK9KmIy9DGoqb9KRuSN0NNOhqkyh52W2INgLt8RAPsPq3bA
eivqA1PpqzP3IXnbrV9tB5VPgxyq11BpeN0PK6CZt0bbEOKrfQ7PMR2Os4LfDFVX
7ZMF09el1Fq2kAPK33lcY/2rdFs3PXqPXJwz+ZgBAoGAfJFQn39co3qa/k9MJvZK
Hsx/OUbWfdrn4d/Nn/SZD2m4wus/x+IZOqCqY42QJb3esFY5RFfXIuWPAFWwMWsh
qtYACG/BuJusExpF9QZ1xzh3It9InYsd8AfSzNmnBCYNDSS4/U3H1DdFyeKF+hsw
tPSHs8VHYIwH7kmrADwj2iw=
-----END PRIVATE KEY-----`
    }

var exampleUser2 = {
    "public": `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4z7tjQT/Vnbd9wDWsD55
+p/s51bmAKz9diyMyVGpFDmRb1woN12A0DB0FtbCrp3Uq9s+IG0S1vZGXYLEfJs5
bp9/w9Ha7Yd+W61t+pyeUlXUlvD+dBQeD7EHSPnmb743hGEn8bwxJvOK8HV+RbC+
6LkDyaQmdqeCPSwLGscLc+m571JDIDBY83bbfKJs4CZy86ylRWlTrFX7/lZsrQgE
84NUrxsraGgTdc/rDMrDrL45k2zwfy/r7e1ENi5WS/qz+Lw3IRrUwNcxrrokE1m3
pyVRcy19pQdQdTyQq4Ll+Uzb+pJ72vqsPDroJ+SEua8LyroRjrn42wrqdVR1Njl8
CwIDAQAB
-----END PUBLIC KEY-----`,
"private": `-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDjPu2NBP9Wdt33
ANawPnn6n+znVuYArP12LIzJUakUOZFvXCg3XYDQMHQW1sKundSr2z4gbRLW9kZd
gsR8mzlun3/D0drth35brW36nJ5SVdSW8P50FB4PsQdI+eZvvjeEYSfxvDEm84rw
dX5FsL7ouQPJpCZ2p4I9LAsaxwtz6bnvUkMgMFjzdtt8omzgJnLzrKVFaVOsVfv+
VmytCATzg1SvGytoaBN1z+sMysOsvjmTbPB/L+vt7UQ2LlZL+rP4vDchGtTA1zGu
uiQTWbenJVFzLX2lB1B1PJCrguX5TNv6knva+qw8Ougn5IS5rwvKuhGOufjbCup1
VHU2OXwLAgMBAAECggEARN+ysdX86aDXP2CysPIOmEZWT/tHdJb5rxJrjSzB2Q5l
pOHCkp01SGQXG0D1+mR9q6SkXMGSPzKfOwJCOR32ty+CUsBM4Ub6piCXP6iuV3gK
GcFq7ZWXUtwtwBF1pRJ60xV7PMnz/8E6sAx8O/UIt5Izsq6ctcOpNo8dwnznXLa8
nIa40kNbPdcN/ILW+wpxwCh3s3GoNDu45jmBteimZa8Hk94rhaXBS1nV2dVe2+wM
a6VxlS5k+cWXXWvu7dyQo2WjAf8D1LkwczTnlPYoGLg4tzuzslkLdA94InQV1YkD
xxxSdq3MikmTSSXSAUljnVdS4pItzy6prbtIb7+a+QKBgQD/7xkwL9vXLw5BIfQ2
cv5inItO/Xk1OvkRkbPMGDOEMwDWa3ilRGBRi/mlmo8gwWpYVGz9f/tCjw9eF/Td
oMRnTyzXN0z/ZtflyEOturtAsBmFEWIe9+kL36vHFs0aO25tuZmMRc/svu1ue99v
E6ZxP2L4BUrVHPNG2a3KZA0ULQKBgQDjTe9chKi5r9xhcfWBFvreB5S2+6J8A2AS
Vw4XMyUnZKmN4tjbIOHKEgITcaZuxPx3lDgJO+jqRhnhFB3BzLCDO1lKSp7bmxHn
qbc3O+T2fwa6R+9ku6wlC5WoHGvDCLnZhXjsCdQO/wWQbGBLATND4w8GinbhbXug
0a3h7k7cFwKBgCpmCM0z0H6oe/sMTfHLQRtDBc0TLsZDu8lOUvPnunkXHfdnnHf8
iNxZjQUDQtzRTfXOHrQsRIq1On2DCHzCyma29h29OpNBDVkywQuB2M2RntitlYy9
0yy1ZDa6L0Y+PEAPNEHJuvVkd98KxGwZXER8lL+z2L7Pafn9y82wn34NAoGBAIja
iXzomjWCPmulEy0vyscXRWCOTJvh5FvmciNhtcLsBnHY3LvCJm9lPD68tHoIvAC7
Cqn0mh1DK52qYOgn9zZr6yyhlNefm74hHqBwvT/z5vcNDINXwyNiwC5BPlhkzpC6
nb1vhW+p942m0qsWA+mhsZA8marMIh0HYWuf8XbtAoGBAIllPfNeJjPnkxmYJyVK
rs80RShms63GRlmuctUCSe0qpxw449EZGEdiUwjtmjpAkObUkFB9EkhzIU/IxAmH
iCXxLNWgcp1KPUWv98VqpoCM56/+JJ90hEgFutuloBCFWitozCkZgvQ6//Yi4Piu
/8VYL4cnrdtJndERMG10ETuA
-----END PRIVATE KEY-----`
}

var selfKeys = {
    "public": `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6rAFjBu8sIIkCylL6b1v
R5lAhRmF3/z6nPULDVz1rY6QfJpIn8pt3MzKL66m4LWIRXvMinaN/CG+buwEgDZy
PXbjRvP0li1/fgAXR8l1VPS8okNlVO0sPpNjyGYpGN1Nq/oJqstdPIcQpL8BC5IQ
xSVcViba+31r1lzDZE1FXAdpF/lK2WLqNvT3DlEB4ldftRQvbFgx11sNhEygKMdF
jYDf1TkpVhLw3h4ydZvtw64PxSahnKa8pTqSrGTfo3eYTzEiL64jnO401EX0dJH2
KvQrItL10e9tFMbCofLdcQXeRQDKAGFCU6TekE4YDdI+B1PN4tm5VFnBzgHTAEsR
AQIDAQAB
-----END PUBLIC KEY-----`,
    "private": `-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDqsAWMG7ywgiQL
KUvpvW9HmUCFGYXf/Pqc9QsNXPWtjpB8mkifym3czMovrqbgtYhFe8yKdo38Ib5u
7ASANnI9duNG8/SWLX9+ABdHyXVU9LyiQ2VU7Sw+k2PIZikY3U2r+gmqy108hxCk
vwELkhDFJVxWJtr7fWvWXMNkTUVcB2kX+UrZYuo29PcOUQHiV1+1FC9sWDHXWw2E
TKAox0WNgN/VOSlWEvDeHjJ1m+3Drg/FJqGcprylOpKsZN+jd5hPMSIvriOc7jTU
RfR0kfYq9Csi0vXR720UxsKh8t1xBd5FAMoAYUJTpN6QThgN0j4HU83i2blUWcHO
AdMASxEBAgMBAAECggEAAdWnjHJmz6Ury5XKfvC0+Qz/0+6ItTEawy139TY44i8B
LoUs/ElKgbFs4vGpQqxOnPbwWNR/jIUVwlOYXyl1zAjU8t/7NW2Uf59X7z7qGrR5
UUYoOZFLUU+pBfb0+ymXNukC6HWzpFKMuPH4i87r8EOYEMEX4QOIa1YBLcR8HmGZ
XdOJ9Pi1KLTxMROVpl8vroX0erJhh+/OJizZLmu3ebSbXJJoFR2qQEm85zEzsKhV
PmkM2cSzHRZCI0o3TDPqHR15MUT+zD5l7CnU5uC4nNYlEvePUMYE/tSk7rqlPF9B
KZ7WTBHqNHJOqFZ/+l5gcbajgXhhBwUH+g27drN0MQKBgQD3Cwaei6wqvPvkB9R8
D5O794EX3AmzfmwoWKcnIxnQZacguqyLZfvkSwoBpKZsWyxU5f1OEOt5vTOPUD3l
FU5fSzbblROROeIA7yupCHbq1grxm66QaseVnsLVFDAjH5wjfZFStRYcwyaAGwOn
YMej8qxVDgT/opEnBcJWLW+asQKBgQDzMlDxUZkTZ872mIpWr7YXAL8YXMBvYppX
ZEzxOHKTpQumt3nFHxgFcjK7lDmN2I1FslKzq+/JzkNtJXI7lmTHMffvmRrFvG0n
dyrwd4GEipfhro0Y4HIBcqKTFBvA5iO5R6t4dwEt8O2/u4NPWxIA4Qzs7L+9RjHq
yOSgzcbPUQKBgQDDf6c6Wn/hxnJ0Dzo4/z7DNmejkQ7gS8Cd4SJOV3m7MGalAPVA
z3EaRcPibwEAqNoZSXQ+jic6zN57oF2K52SBBw2fkYbNm4fdg2gCuV8aEk7QyonH
YakWH3BBnVtGwGIYt+sED6gzFMBoCnjGwVDbzlRQburHvkeuIOGcvxId0QKBgCX7
6eCHGh2JzS1+zbyUXSBioXYwpm2/PNQBenMCmgKteJBlf8NmA951466gjAy3kfkc
zQX7CMzARo+5lYnxB3SFPXBSvXe84l+ToUVFpRkKfIZnOOp1w9iuCu5l6Z/LUjES
HJoIHEsMolWb9/phAwLYI6itoZTybcF59xuWiELBAoGBAMhUjXfQVzG72VuTlarR
rZ0/241KcXL53Gx5Nywk8TseKUhh3v4nMZoK4QPF4gPALobxxVALJ8DQZHPHrhvv
0eP6c8X052tur+JatLMGdoXQbAUcbbHZp9SJ6UmRenvqRTUa2US3GCM8fyE450qS
XV8Kus7y57J+zxF9jfyP76PQ
-----END PRIVATE KEY-----`
}

var activeChats = [ // this will be updated by the client to add new chats
]

var selectedChat = -1; // global is default

var socket;


function connectToServer(server) {
    socket = new WebSocket(`ws://${server}:8765`)

    socket.addEventListener("message", (event) => { // Listen for messages
        console.log("Message from server ", event.data);
        receivedMessage(event.data); // handle every message received
    });
}

connectToServer('localhost') // initialise connection
